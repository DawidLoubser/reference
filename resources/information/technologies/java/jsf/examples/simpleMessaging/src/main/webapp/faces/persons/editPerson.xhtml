<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
			<html xmlns="http://www.w3.org/1999/xhtml"
    		xmlns:f="http://java.sun.com/jsf/core"
            xmlns:h="http://java.sun.com/jsf/html">
<head>
	<title>Basic Text Form: Create Person</title>
</head>
<body>
    <h1><h:outputText id="header1" value="Form with Error Messages"/></h1>
    <h2><h:outputText id="header2" value="Edit Person"/></h2>
    
    <h:messages/>

    <h:form id="form">
        <h:panelGrid id="personGrid" columns="3">
            <h:outputLabel id="firstNameLabel" value="First Name:" for="firstNameField"/>
            <h:inputText id="firstNameField" value="#{createPersonBinding.person.firstName}"/>
            <h:message for="firstNameField"/>
            
            <h:outputLabel id = "surnameLabel" value="Surname:" for="surnameField"/>
            <h:inputText id="surnameField" value="#{createPersonBinding.person.surname}"/>
            <h:message for="surnameField"/>
            
            <h:outputLabel id="titleLabel" value="Title:" for="titleField"/>
            <h:selectOneMenu id="titleField" value="#{createPersonBinding.person.title}">
			  <f:selectItems value="#{createPersonBinding.titles}"/>
            </h:selectOneMenu>
            <h:message for="titleField"/>
            
            <h:outputLabel id="employedLabel" value="Employed:" for="employedField"/>
            <h:selectBooleanCheckbox id="employedField" 
                value="createPersonBinding.employed"
                valueChangeListener="#{createPersonBinding.employmentChanged}"
                immediate="true" onclick="this.form.submit()"/>
            <h:message for="employedField"/>
            
        </h:panelGrid>

        <h:panelGrid id="employerGrid" rendered="#{createPersonBinding.employed}" columns="2">           
            <h:outputLabel id="employerNameLabel" value="Employer Name:" for="employerNameField"/>
            <h:inputText id="employerNameField" value="#{createPersonBinding.employer.name}"/>
            
            <h:outputLabel id = "employerTelNoLabel" value="Telephone No:" for="employerTelNoField"/>
            <h:inputText id="employerTelNoField" value="#{createPersonBinding.employer.telephoneNo}"/>
        </h:panelGrid>
        
        <h:commandButton id="save" action="#{createPersonBinding.savePerson}" value="save"/>
        
    </h:form>
</body>
</html>
